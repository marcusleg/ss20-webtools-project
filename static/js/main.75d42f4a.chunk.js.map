{"version":3,"sources":["utils/componentColorer.js","components/HelpButton.js","components/AdjustedData.js","components/DataTable.js","utils/mathHelper.js","components/ScatterPlot.js","components/EigenvaluesChart.js","App.js","index.js"],"names":["componentColorer","n","HelpButton","title","shorttext","longtext","useState","showModal","setShowModal","handleClose","className","OverlayTrigger","placement","overlay","Tooltip","id","Button","variant","size","onClick","Modal","show","onHide","Header","closeButton","Title","Body","Footer","AdjustedData","data","principalComponents","setHighlightedComponent","highlightedIndex","setHighlightedIndex","svgRef","useRef","useEffect","adjustedData","svg","select","current","PCA","computeAdjustedData","Number","exception","console","error","min","Math","max","xScale","scaleLinear","domain","range","nice","clamp","xAxis","axisBottom","style","svgHeight","transition","call","selectAll","join","attr","_value","index","value","on","headerStyle","textDecoration","textDecorationColor","textDecorationThickness","onMouseEnter","onMouseLeave","Card","as","ResponsiveEmbed","aspectRatio","ref","width","height","viewBox","x","y","fill","DataTable","setData","handleDelete","event","preventDefault","filter","_v","i","Table","bordered","hover","sort","map","key","color","parseFloat","toFixed","Form","onSubmit","target","concat","Group","Row","Label","column","sm","Col","Control","type","name","placeholder","block","a","b","px","py","gradient","c","gradient1","c1","gradient2","c2","ScatterPlot","highlightedComponent","domainMin","domainMax","length","yScale","yAxis","axisRight","componentGradientFunction","mathHelper","vector","intersections","residueGradientFunction","duration","remove","stopPropagation","newData","slice","splice","mousePosition","mouse","newDataPoint","invert","component","EigenvaluesChart","eigenvalues","eigenvalue","maxY","scaleBand","padding","ticks","bandwidth","svgWidth","App","setPrincipalComponents","vectors","getEigenVectors","marginBottom","xs","minWidth","random","computeDeviationMatrix","disabled","lg","ReactDOM","render","document","getElementById"],"mappings":"8VAaeA,EAbU,SAACC,GACxB,OAAQA,GACR,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,UACT,QACE,MAAO,Y,wBC6BKC,EAlCG,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SAAe,EACnBC,oBAAS,GADU,mBAC9CC,EAD8C,KACnCC,EADmC,KAG/CC,EAAc,kBAAMD,GAAa,IAGvC,OACE,yBAAKE,UAAU,eACb,kBAACC,EAAA,EAAD,CAAgBC,UAAU,OAAOC,QAC/B,kBAACC,EAAA,EAAD,CAASC,GAAI,gBACX,2BAAKX,GACL,0DAGF,4BACE,kBAACY,EAAA,EAAD,CAAQC,QAAQ,OAAOC,KAAK,KAAKC,QAXtB,kBAAMX,GAAa,KAW9B,UAIJ,kBAACY,EAAA,EAAD,CAAOC,KAAMd,EAAWe,OAAQb,GAC9B,kBAACW,EAAA,EAAMG,OAAP,CAAcC,aAAW,GACvB,kBAACJ,EAAA,EAAMK,MAAP,KAActB,IAEhB,kBAACiB,EAAA,EAAMM,KAAP,KAAarB,GACb,kBAACe,EAAA,EAAMO,OAAP,KACE,kBAACX,EAAA,EAAD,CAAQC,QAAQ,YAAYE,QAASV,GAArC,aCuEKmB,EA1FM,SAAC,GAAsG,IAApGC,EAAmG,EAAnGA,KAAMC,EAA6F,EAA7FA,oBAAqBC,EAAwE,EAAxEA,wBAAyBC,EAA+C,EAA/CA,iBAAkBC,EAA6B,EAA7BA,oBAAqBhC,EAAQ,EAARA,EAC3GiC,EAASC,mBAEfC,qBAAU,WACR,IAEIC,EAFEC,EAAMC,YAAOL,EAAOM,SAG1B,IACEH,EAAeI,IAAIC,oBAAoBb,EAAMC,EAAoBa,OAAO1C,GAAK,IAAIoC,aAAa,GAC9F,MAAOO,GAEP,YADAC,QAAQC,MAAM,0CAKhB,IAAMC,EAAMC,KAAKD,IAAL,MAAAC,KAAI,YAAQP,IAAIC,oBAAoBb,EAAMC,EAAoB,IAAIO,aAAa,IAA3E,mBAAkFI,IAAIC,oBAAoBb,EAAMC,EAAoB,IAAIO,aAAa,MAC/JY,EAAMD,KAAKC,IAAL,MAAAD,KAAI,YAAQP,IAAIC,oBAAoBb,EAAMC,EAAoB,IAAIO,aAAa,IAA3E,mBAAkFI,IAAIC,oBAAoBb,EAAMC,EAAoB,IAAIO,aAAa,MAG/Ja,EAASC,cACZC,OAAO,CAACL,EAAKE,IACbI,MAAM,CAAC,EAxBG,MAyBVC,OACAC,OAAM,GAGHC,EAAQC,YAAWP,GACzBZ,EACGC,OAAO,WACPmB,MAAM,YAFT,qBAEoCC,KAFpC,QAGGC,aACAC,KAAKL,GAGRlB,EACGwB,UAAU,cACVjC,KAAKQ,GACL0B,KAAK,UACLC,KAAK,QAAS,aACdA,KAAK,KAAK,SAACC,EAAQC,GAAT,OAAmBA,IAAUlC,EAAmB,EAAI,KAC9DgC,KAAK,KAAML,MACXD,MAAM,QAAQ,SAACO,EAAQC,GAAT,OAAmBA,IAAUlC,EAAmB,MAAQ,WACtE4B,aACAI,KAAK,MAAM,SAAAG,GAAK,OAAIjB,EAAOiB,MAG9B7B,EACGwB,UAAU,cACVM,GAAG,cAAc,SAACH,EAAQC,GACzBjC,EAAoBiC,MAErBE,GAAG,cAAc,WAChBnC,EAAoB,WAEvB,CAACJ,EAAMC,EAAqB7B,EAAG+B,EAAkBC,IAEpD,IAAMoC,EAAc,CAClBC,eAAgB,YAChBC,oBAAqBvE,EAAiB2C,OAAO1C,EAAI,IACjDuE,wBAAyB,SAG3B,OACE,yBACEC,aAAc,kBAAM1C,EAAwB9B,IAC5CyE,aAAc,kBAAM3C,EAAwB,QAE5C,kBAAC4C,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKpD,OAAN,CAAaqD,GAAG,KAAKlB,MAAOW,GAA5B,aACapE,GAGb,kBAAC0E,EAAA,EAAKjD,KAAN,KACE,kBAACmD,EAAA,EAAD,CAAiBC,YAAY,SAC3B,yBAAKC,IAAK7C,EAAQ8C,MA7Eb,IA6E8BC,OA5E7B,IA4EgDC,QAAO,cA7ExD,IA6EwD,YAAqBvB,MAChF,0BAAMwB,EAAE,IAAIC,EAAE,IAAIJ,MA9Ef,IA8EgCC,OA7E/B,IA6EkDI,KAAK,SAC3D,uBAAG3E,UAAU,aAGjB,kBAAC,EAAD,CACEP,MAAK,oBAAeF,GACpBG,UAAS,qGAAgGH,GACzGI,SAAS,oC,gBCXNiF,EAvEG,SAAC,GAA8D,IAA5DzD,EAA2D,EAA3DA,KAAM0D,EAAqD,EAArDA,QAASvD,EAA4C,EAA5CA,iBAAkBC,EAA0B,EAA1BA,oBAC9CuD,EAAe,SAACtB,GACpB,OAAO,SAACuB,GACNA,EAAMC,iBACNH,EAAQ1D,EAAK8D,QAAO,SAACC,EAAIC,GAAL,OAAW3B,IAAU2B,QAc7C,OACE,kBAAClB,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKpD,OAAN,CAAaqD,GAAG,MAAhB,QAIA,kBAACD,EAAA,EAAKjD,KAAN,KACE,kBAACoE,EAAA,EAAD,CAAOC,UAAQ,EAACC,OAAK,EAAC9E,KAAK,MACzB,+BACE,4BACE,iCACA,iCACA,wCAGJ,+BACGW,EAAKoE,OAAOC,KAAI,SAAC/B,EAAOD,GAAR,OACf,wBACEiC,IAAKjC,EACLR,MAAOQ,IAAUlC,EAAmB,CAAEoE,MAAO,OAAU,GACvD3B,aAAc,kBAAMxC,EAAoBiC,IACxCQ,aAAc,kBAAMzC,EAAoB,QAExC,4BAAKU,OAAO0D,WAAWlC,EAAM,IAAImC,QAAQ,IACzC,4BAAK3D,OAAO0D,WAAWlC,EAAM,IAAImC,QAAQ,IACzC,4BAAI,kBAACtF,EAAA,EAAD,CAAQC,QAAQ,OAAOC,KAAK,KAAKC,QAASqE,EAAatB,IAAvD,cAMZ,8CACA,kBAACqC,EAAA,EAAD,CAAMC,SA1CS,SAACf,GACpBA,EAAMC,iBACN,IAAMP,EAAIxC,OAAO8C,EAAMgB,OAAOtB,EAAEhB,OAC1BiB,EAAIzC,OAAO8C,EAAMgB,OAAOrB,EAAEjB,OAChCoB,EAAQ1D,EAAK6E,OAAO,CAAC,CAACvB,EAAGC,MAEzBK,EAAMgB,OAAOtB,EAAEhB,MAAQ,GACvBsB,EAAMgB,OAAOrB,EAAEjB,MAAQ,KAoCjB,kBAACoC,EAAA,EAAKI,MAAN,CAAY/B,GAAIgC,KACd,kBAACL,EAAA,EAAKM,MAAN,CAAYC,QAAM,EAACC,GAAG,KAAtB,KACA,kBAACC,EAAA,EAAD,CAAKD,GAAG,MACN,kBAACR,EAAA,EAAKU,QAAN,CAAcC,KAAK,OAAOC,KAAK,IAAIC,YAAY,UAEjD,kBAACb,EAAA,EAAKM,MAAN,CAAYC,QAAM,EAACC,GAAG,KAAtB,KACA,kBAACC,EAAA,EAAD,CAAKD,GAAG,MACN,kBAACR,EAAA,EAAKU,QAAN,CAAcC,KAAK,OAAOC,KAAK,IAAIC,YAAY,UAEjD,kBAACJ,EAAA,EAAD,CAAKD,GAAG,MACN,kBAAC/F,EAAA,EAAD,CAAQC,QAAQ,YAAYoG,OAAK,EAACH,KAAK,UAAvC,aCrDC,EAjBkB,SAACI,EAAGC,EAAGC,EAAIC,GAC1C,IAAMC,EAAWH,EAAID,EAErB,MAAO,CAAEI,WAAUC,EADTF,EAAKC,EAAWF,IAeb,EAXU,SAACI,EAAWC,EAAIC,EAAWC,GAKlD,MAAO,EADGA,EADAF,IAFAD,EACAE,GADAF,IAGAG,EADAF,IAFAD,EACAE,IACAD,IC+KGG,EAlLK,SAAC,GAAyG,IAAvGnG,EAAsG,EAAtGA,KAAM0D,EAAgG,EAAhGA,QAASzD,EAAuF,EAAvFA,oBAAqBmG,EAAkE,EAAlEA,qBAAsBjG,EAA4C,EAA5CA,iBAAkBC,EAA0B,EAA1BA,oBAC3FC,EAASC,mBAoJf,OAjJAC,qBAAU,WACR,IAAME,EAAMC,YAAOL,EAAOM,SAEtB0F,GAAa,EACbC,EAAY,EACZtG,EAAKuG,OAAS,IAChBF,EAAYlF,KAAKD,IAAL,MAAAC,KAAI,YAAQnB,EAAKqE,KAAI,SAAA/B,GAAK,OAAIA,EAAM,OAAhC,mBAAwCtC,EAAKqE,KAAI,SAAA/B,GAAK,OAAIA,EAAM,SAAO,EACvFgE,EAAYnF,KAAKC,IAAL,MAAAD,KAAI,YAAQnB,EAAKqE,KAAI,SAAA/B,GAAK,OAAIA,EAAM,OAAhC,mBAAwCtC,EAAKqE,KAAI,SAAA/B,GAAK,OAAIA,EAAM,SAAO,GAIzF,IAAMjB,EAASC,cACZC,OAAO,CAAC8E,EAAWC,IACnB9E,MAAM,CAAC,EAAG,MACVC,OAEG+E,EAASlF,cACZC,OAAO,CAAC8E,EAAWC,IACnB9E,MAAM,CAAC,EAAG,MACVC,OAGGE,EAAQC,YAAWP,GACzBZ,EACGC,OAAO,WACPmB,MAAM,YAAa,qBACnBE,aACAC,KAAKL,GAER,IAAM8E,EAAQC,YAAUF,GAQxB,GAPA/F,EACGC,OAAO,WACPmB,MAAM,YAAa,qBACnBE,aACAC,KAAKyE,GAGJL,GAAwBnG,EAAoB,IAAMD,EAAKuG,OAAS,EAAG,CACrE,IAAMnI,EAAIgI,EAAuB,EAC3BO,EAA4BC,EAChC3G,EAAoB7B,GAAGyI,OAAO,GAC9B5G,EAAoB7B,GAAGyI,OAAO,GAC9B,EACA,GAGIC,EAAgB9G,EAAKqE,KAAI,SAAA/B,GAC7B,IAAMyE,EAA0BH,EAC9B3G,EAAoB7B,GAAGyI,OAAO,GAC9B5G,EAAoB7B,GAAGyI,OAAO,GAC9BvE,EAAM,GACNA,EAAM,IAER,OAAOsE,GACJ,EAAID,EAA0Bd,SAC/Bc,EAA0Bb,EAC1BiB,EAAwBlB,SACxBkB,EAAwBjB,MAK5BrF,EACGwB,UAAU,YACVjC,KAAKA,GACLkC,KAAK,QACLC,KAAK,QAAS,WACdA,KAAK,YAAa,mBAClBA,KAAK,eAAgB,GACrBA,KAAK,SAAU,OACfA,KAAK,MAAM,SAAAG,GAAK,OAAIjB,EAAOiB,EAAM,OACjCH,KAAK,MAAM,SAAAG,GAAK,OAAIkE,EAAOlE,EAAM,OACjCH,KAAK,MAAM,SAACC,EAAQC,GAAT,OAAmBhB,EAAOyF,EAAczE,GAAO,OAC1DF,KAAK,MAAM,SAACC,EAAQC,GAAT,OAAmBmE,EAAOM,EAAczE,GAAO,OAC1DN,aACAiF,SAAS,KACT7E,KAAK,UAAW,QAEnB1B,EACGwB,UAAU,YACVgF,SAILxG,EACGC,OAAO,gBACPuB,UAAU,cACVjC,KAAKA,GACLkC,KAAK,UACLC,KAAK,QAAS,aACdA,KAAK,KAAK,SAACC,EAAQC,GAAT,OAAmBA,IAAUlC,EAAmB,EAAI,KAC9D0B,MAAM,QAAQ,SAACO,EAAQC,GAAT,OAAmBA,IAAUlC,EAAmB,MAAQ,WACtE4B,aACAI,KAAK,MAAM,SAAAG,GAAK,OAAIjB,EAAOiB,EAAM,OACjCH,KAAK,MAAM,SAAAG,GAAK,OAAIkE,EAAOlE,EAAM,OAGpC7B,EACGC,OAAO,gBACPuB,UAAU,cACVM,GAAG,SAAS,SAACH,EAAQC,GACpBuB,IAAMsD,kBACN,IAAMC,EAAUnH,EAAKoH,QACrBD,EAAQE,OAAOhF,EAAO,GACtBqB,EAAQyD,MAIZ1G,EAAI8B,GAAG,SAAS,WACd,IAAM+E,EAAgBC,YAAMlH,EAAOM,SAC7B6G,EAAe,CACnBnG,EAAOoG,OAAOH,EAAc,IAC5Bd,EAAOiB,OAAOH,EAAc,KAE9B5D,EAAQ1D,EAAK6E,OAAO,CAAC2C,QAIvB/G,EACGC,OAAO,gBACPuB,UAAU,cACVM,GAAG,cAAc,SAACH,EAAQC,GACzBjC,EAAoBiC,MAErBE,GAAG,cAAc,WAChBnC,EAAoB,SAIxBK,EACGC,OAAO,yBACPuB,UAAU,cACVjC,KAAKC,GACLiC,KAAK,QACLC,KAAK,QAAS,aACdA,KAAK,YAAa,mBAClBA,KAAK,eAAgB,GACrBA,KAAK,UAAU,SAACC,EAAQC,GAAT,OAAmBlE,EAAiBkE,MACnDN,aACAI,KAAK,MAAM,SAAAuF,GAAS,OAAIrG,EAAO,EAAIgF,EAAYqB,EAAUb,OAAO,OAChE1E,KAAK,MAAM,SAAAuF,GAAS,OAAIlB,EAAO,EAAIH,EAAYqB,EAAUb,OAAO,OAChE1E,KAAK,MAAM,SAAAuF,GAAS,OAAIrG,EAAO,EAAIiF,EAAYoB,EAAUb,OAAO,OAChE1E,KAAK,MAAM,SAAAuF,GAAS,OAAIlB,EAAO,EAAIF,EAAYoB,EAAUb,OAAO,SAClE,CAAC7G,EAAM0D,EAASzD,EAAqBmG,EAAsBhG,EAAqBD,IAGjF,kBAAC2C,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKpD,OAAN,CAAaqD,GAAG,MAAhB,gBAIA,kBAACD,EAAA,EAAKjD,KAAN,KACE,kBAACmD,EAAA,EAAD,KACE,yBAAKE,IAAK7C,EAAQ8C,MAAM,MAAMC,OAAO,MAAMC,QAAQ,eACjD,8BAAUnE,GAAG,aACX,0BAAMoE,EAAE,IAAIC,EAAE,IAAIJ,MAAM,MAAMC,OAAO,SAEvC,0BAAME,EAAE,IAAIC,EAAE,IAAIJ,MAAM,MAAMC,OAAO,MAAMI,KAAK,SAChD,uBAAG3E,UAAU,WACb,uBAAGA,UAAU,WACb,uBAAGA,UAAU,yBACb,uBAAGA,UAAU,kBAGjB,kBAAC,EAAD,CACEP,MAAM,sCACNC,UAAU,eACVC,SAAS,mCChGJmJ,EAzEU,SAAC,GAA6B,IAA3B1H,EAA0B,EAA1BA,oBACpBI,EAASC,mBAETsH,EAAc3H,EAAoBoE,KAAI,SAAAwC,GAAM,OAAIA,EAAOgB,cA8C7D,OA5CAtH,qBAAU,WACR,IAAME,EAAMC,YAAOL,EAAOM,SAEpBmH,EAAO3G,KAAKC,IAAL,MAAAD,KAAI,YAAQyG,IAGnBvG,EAAS0G,cACZxG,OAAOqG,EAAYvD,KAAI,SAAC/B,EAAOD,GAAR,OAAkBA,MACzCb,MAAM,CAAC,EAhBG,MAiBVwG,QAAQ,IAELxB,EAASlF,cACZC,OAAO,CAAC,EAAGuG,IACXtG,MAAM,CApBK,IAoBO,IAGfG,EAAQC,YAAWP,GAAQ4G,MAAML,EAAYrB,QACnD9F,EACGC,OAAO,WACPmB,MAAM,YAAa,qBACnBG,KAAKL,GAER,IAAM8E,EAAQC,YAAUF,GACxB/F,EACGC,OAAO,WACPmB,MAAM,YAAa,qBACnBE,aACAC,KAAKyE,GAGRhG,EACGwB,UAAU,QACVjC,KAAK4H,GACL1F,KAAK,QACLC,KAAK,QAAS,OACdN,MAAM,YAAa,gBACnBM,KAAK,KAAK,SAACG,EAAOD,GAAR,OAAkBhB,EAAOgB,MACnCF,KAAK,KA5CM,KA6CXA,KAAK,QAASd,EAAO6G,aACrBnG,aACAI,KAAK,UAAU,SAAAG,GAAK,OA/CT,IA+CyBkE,EAAOlE,MAC3CT,MAAM,QAAQ,SAACO,EAAQC,GAAT,OAAmBlE,EAAiBkE,QACpD,CAACpC,EAAqB2H,IAGvB,kBAAC9E,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKpD,OAAN,CAAaqD,GAAG,MAAhB,eAIA,kBAACD,EAAA,EAAKjD,KAAN,KACE,kBAACmD,EAAA,EAAD,CAAiBC,YAAY,SAC3B,yBAAKC,IAAK7C,EAAQ8C,MA5DX,IA4D4BC,OA3D3B,IA2D8CC,QAAO,cAAS8E,IAAT,YAA0BrG,MACrF,0BAAMwB,EAAE,IAAIC,EAAE,IAAIJ,MA7Db,IA6D8BC,OA5D7B,IA4DgDI,KAAK,SAC3D,uBAAG3E,UAAU,WACb,uBAAGA,UAAU,aAGjB,kBAAC,EAAD,CACEP,MAAM,cACNC,UAAU,sFACVC,SAAS,mCCqCJ4J,MAnGf,WAAiB,IAAD,EACU3J,mBAAS,CAAC,CAAC,EAAG,KADxB,mBACPuB,EADO,KACD0D,EADC,OAE0CjF,mBAAS,MAFnD,mBAEP2H,EAFO,KAEelG,EAFf,OAGkCzB,mBAAS,MAH3C,mBAGP0B,EAHO,KAGWC,EAHX,OAIwC3B,mBAAS,IAJjD,mBAIPwB,EAJO,KAIcoI,EAJd,KAgCd,OATA9H,qBAAU,WACR,GAAoB,IAAhBP,EAAKuG,OAAT,CAIA,IAAM+B,EAAU1H,IAAI2H,gBAAgBvI,GACpCqI,EAAuBC,QAJrBD,EAAuB,MAKxB,CAACrI,IAGF,yBAAKnB,UAAU,aACb,yBAAKA,UAAU,iCAAiCgD,MAAO,CAAEmG,QAAS,MAAOQ,aAAc,QACrF,yDACA,mEAEF,kBAACzD,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAKsD,GAAG,IAAI5G,MAAO,CAAE6G,SAAU,UAC7B,kBAAC5F,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKpD,OAAN,CAAaqD,GAAG,MAAhB,QAIA,kBAACD,EAAA,EAAKjD,KAAN,KACE,kBAACV,EAAA,EAAD,CAAQC,QAAQ,YAAYoG,OAAK,EAAClG,QAxCZ,WAEhC,IADA,IAAI6H,EAAU,GACLnD,EAAI,EAAGA,EAAI,GAAIA,IACtBmD,EAAUA,EAAQtC,OAAO,CAAC,CACR,IAAhB1D,KAAKwH,SAAiB,IACN,IAAhBxH,KAAKwH,SAAiB,OAG1BjF,EAAQyD,KAgCE,wBACA,kBAAChI,EAAA,EAAD,CAAQC,QAAQ,YAAYoG,OAAK,EAAClG,QAAS,kBA7BrDoE,EAAQ,IACRxD,EAAwB,WACxBE,EAAoB,QA2BV,cACCJ,EAAKuG,OAAS,EACb,kBAACpH,EAAA,EAAD,CAAQC,QAAQ,YAAYoG,OAAK,EAAClG,QAAS,kBAAMoE,EAAQ9C,IAAIgI,uBAAuB5I,MAApF,eACA,kBAACb,EAAA,EAAD,CAAQC,QAAQ,YAAYoG,OAAK,EAACqD,UAAQ,GAA1C,kBAKR,kBAAC1D,EAAA,EAAD,CAAK2D,GAAG,KACN,kBAAC,EAAD,CACE9I,KAAMA,EACN0D,QAASA,EACTzD,oBAAqBA,EACrBmG,qBAAsBA,EACtBjG,iBAAkBA,EAClBC,oBAAqBA,KAGzB,kBAAC+E,EAAA,EAAD,CAAK2D,GAAG,KACN,kBAAC,EAAD,CAAkB7I,oBAAqBA,IACvC,yBAAKf,GAAG,oBACN,kBAAC,EAAD,CACEc,KAAMA,EACNC,oBAAqBA,EACrBC,wBAAyBA,EACzBC,iBAAkBA,EAClBC,oBAAqBA,EACrBhC,EAAE,MAEJ,kBAAC,EAAD,CACE4B,KAAMA,EACNC,oBAAqBA,EACrBC,wBAAyBA,EACzBC,iBAAkBA,EAClBC,oBAAqBA,EACrBhC,EAAE,QAIR,kBAAC+G,EAAA,EAAD,CAAK2D,GAAG,KACN,kBAAC,EAAD,CACE9I,KAAMA,EACN0D,QAASA,EACTvD,iBAAkBA,EAClBC,oBAAqBA,QCnGjC2I,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.75d42f4a.chunk.js","sourcesContent":["const componentColorer = (n) => {\n  switch (n) {\n  case 0:\n    return '#ff9e1b'\n  case 1:\n    return '#c4d52a'\n  case 2:\n    return '#7c8034'\n  default:\n    return '#cccccc'\n  }\n}\n\nexport default componentColorer\n","import React, { useState } from 'react'\nimport { Button, Modal, OverlayTrigger, Tooltip } from 'react-bootstrap'\n\n\nconst HelpButton = ({ title, shorttext, longtext }) => {\n  const [showModal, setShowModal] = useState(false)\n\n  const handleClose = () => setShowModal(false)\n  const handleShow = () => setShowModal(true)\n\n  return (\n    <div className=\"float-right\">\n      <OverlayTrigger placement=\"left\" overlay={\n        <Tooltip id={'tooltip-left'}>\n          <p>{ shorttext }</p>\n          <strong>Click to learn more.</strong>\n        </Tooltip>\n      }>\n        <h5>\n          <Button variant=\"info\" size=\"sm\" onClick={handleShow}>Help</Button>\n        </h5>\n      </OverlayTrigger>\n\n      <Modal show={showModal} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{title}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{longtext}</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  )\n}\n\nexport default  HelpButton\n","import React, { useEffect, useRef } from 'react'\nimport { Card, ResponsiveEmbed } from 'react-bootstrap'\nimport { axisBottom, scaleLinear, select } from 'd3'\nimport PCA from 'pca-js'\nimport componentColorer from '../utils/componentColorer'\nimport HelpButton from './HelpButton'\n\nconst svgWidth = 315\nconst svgHeight = 135\n\nconst AdjustedData = ({ data, principalComponents, setHighlightedComponent, highlightedIndex, setHighlightedIndex, n }) => {\n  const svgRef = useRef()\n\n  useEffect(() => {\n    const svg = select(svgRef.current)\n\n    let adjustedData\n    try {\n      adjustedData = PCA.computeAdjustedData(data, principalComponents[Number(n) - 1]).adjustedData[0]\n    } catch (exception) {\n      console.error('Handled exception in 3rd party library')\n      return\n    }\n\n    // global minimum and maxium for all components\n    const min = Math.min(...PCA.computeAdjustedData(data, principalComponents[0]).adjustedData[0], ...PCA.computeAdjustedData(data, principalComponents[1]).adjustedData[0])\n    const max = Math.max(...PCA.computeAdjustedData(data, principalComponents[0]).adjustedData[0], ...PCA.computeAdjustedData(data, principalComponents[1]).adjustedData[0])\n\n    // create scales that map our data to the fixed size screen space\n    const xScale = scaleLinear()\n      .domain([min, max])\n      .range([0, svgWidth])\n      .nice()\n      .clamp(true)\n\n    // draw X axis\n    const xAxis = axisBottom(xScale)\n    svg\n      .select('.x-axis')\n      .style('transform', `translateY(${svgHeight / 2 - 5}px)`)\n      .transition()\n      .call(xAxis)\n\n    // draw data points\n    svg\n      .selectAll('.dataPoint')\n      .data(adjustedData)\n      .join('circle')\n      .attr('class', 'dataPoint')\n      .attr('r', (_value, index) => index === highlightedIndex ? 5 : 3)\n      .attr('cy', svgHeight / 2 - 5)\n      .style('fill', (_value, index) => index === highlightedIndex ? 'red' : 'black')\n      .transition()\n      .attr('cx', value => xScale(value))\n\n    // set highlighting on mouse over\n    svg\n      .selectAll('.dataPoint')\n      .on('mouseenter', (_value, index) => {\n        setHighlightedIndex(index)\n      })\n      .on('mouseleave', () => {\n        setHighlightedIndex(null)\n      })\n  }, [data, principalComponents, n, highlightedIndex, setHighlightedIndex])\n\n  const headerStyle = {\n    textDecoration: 'underline',\n    textDecorationColor: componentColorer(Number(n - 1)),\n    textDecorationThickness: '.15em'\n  }\n\n  return (\n    <div\n      onMouseEnter={() => setHighlightedComponent(n)}\n      onMouseLeave={() => setHighlightedComponent(null)}\n    >\n      <Card>\n        <Card.Header as=\"h3\" style={headerStyle}>\n          Component {n}\n        </Card.Header>\n\n        <Card.Body>\n          <ResponsiveEmbed aspectRatio=\"21by9\">\n            <svg ref={svgRef} width={svgWidth} height={svgHeight} viewBox={`0 0 ${svgWidth} ${svgHeight + 30}`}>\n              <rect x=\"0\" y=\"0\" width={svgWidth} height={svgHeight} fill=\"#eee\" />\n              <g className=\"x-axis\" />\n            </svg>\n          </ResponsiveEmbed>\n          <HelpButton\n            title={`Component ${n}`}\n            shorttext={`This is what the data looks like after reducing from two to one dimension using component #${n}`}\n            longtext=\"Lorem ipsum dolor sit amet.\"\n          />\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n\nexport default AdjustedData\n","import React from 'react'\nimport {\n  Button,\n  Card,\n  Col,\n  Form,\n  Row,\n  Table,\n} from 'react-bootstrap'\n\nconst DataTable = ({ data, setData, highlightedIndex, setHighlightedIndex }) => {\n  const handleDelete = (index) => {\n    return (event) => {\n      event.preventDefault()\n      setData(data.filter((_v, i) => index !== i))\n    }\n  }\n\n  const addDataPoint = (event) => {\n    event.preventDefault()\n    const x = Number(event.target.x.value)\n    const y = Number(event.target.y.value)\n    setData(data.concat([[x, y]]))\n\n    event.target.x.value = ''\n    event.target.y.value = ''\n  }\n\n  return (\n    <Card>\n      <Card.Header as=\"h3\">\n        Data\n      </Card.Header>\n\n      <Card.Body>\n        <Table bordered hover size=\"sm\">\n          <thead>\n            <tr>\n              <th>X</th>\n              <th>Y</th>\n              <th>Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.sort().map((value, index) =>\n              <tr\n                key={index}\n                style={index === highlightedIndex ? { color: 'red' } : {}}\n                onMouseEnter={() => setHighlightedIndex(index)}\n                onMouseLeave={() => setHighlightedIndex(null)}\n              >\n                <td>{Number.parseFloat(value[0]).toFixed(2)}</td>\n                <td>{Number.parseFloat(value[1]).toFixed(2)}</td>\n                <td><Button variant=\"link\" size=\"sm\" onClick={handleDelete(index)}>[X]</Button></td>\n              </tr>\n            )}\n          </tbody>\n        </Table>\n\n        <h5>Add data point</h5>\n        <Form onSubmit={addDataPoint}>\n          <Form.Group as={Row}>\n            <Form.Label column sm=\"2\">X</Form.Label>\n            <Col sm=\"10\">\n              <Form.Control type=\"text\" name=\"x\" placeholder=\"0.00\" />\n            </Col>\n            <Form.Label column sm=\"2\">Y</Form.Label>\n            <Col sm=\"10\">\n              <Form.Control type=\"text\" name=\"y\" placeholder=\"0.00\" />\n            </Col>\n            <Col sm=\"12\">\n              <Button variant=\"secondary\" block type=\"submit\">Add</Button>\n            </Col>\n          </Form.Group>\n        </Form>\n      </Card.Body>\n\n    </Card>\n  )\n}\n\nexport default DataTable\n","// converts vector (a,b) with point (px,py) into a Steigungsfunktion\nconst vectorToGradientFunction = (a, b, px, py) => {\n  const gradient = b / a\n  const c = py - gradient * px\n  return { gradient, c }\n}\n\nconst lineIntersection = (gradient1, c1, gradient2, c2) => {\n  const a = gradient1\n  const b = gradient2\n  const c = c1\n  const d = c2\n  return [\n    (d - c) / (a - b),\n    a * ((d - c) / (a - b)) + c,\n  ]\n}\n\nexport default {\n  vectorToGradientFunction,\n  lineIntersection,\n}\n","import React, { useEffect, useRef } from 'react'\nimport { Card, ResponsiveEmbed } from 'react-bootstrap'\nimport { axisBottom, axisRight, event, mouse, scaleLinear, select } from 'd3'\nimport componentColorer from '../utils/componentColorer'\nimport mathHelper from '../utils/mathHelper'\nimport HelpButton from './HelpButton'\n\nconst ScatterPlot = ({ data, setData, principalComponents, highlightedComponent, highlightedIndex, setHighlightedIndex }) => {\n  const svgRef = useRef()\n\n  // this executes on page load and every time the data changes\n  useEffect(() => {\n    const svg = select(svgRef.current)\n\n    let domainMin = -5\n    let domainMax = 5\n    if (data.length > 0) {\n      domainMin = Math.min(...data.map(value => value[0]), ...data.map(value => value[1])) - 5\n      domainMax = Math.max(...data.map(value => value[0]), ...data.map(value => value[1])) + 5\n    }\n\n    // create scales that map our data to the fixed size screen space\n    const xScale = scaleLinear()\n      .domain([domainMin, domainMax])\n      .range([0, 600])\n      .nice()\n\n    const yScale = scaleLinear()\n      .domain([domainMin, domainMax])\n      .range([0, 600])\n      .nice()\n\n    // draw X and Y axis\n    const xAxis = axisBottom(xScale)\n    svg\n      .select('.x-axis')\n      .style('transform', 'translateY(600px)')\n      .transition()\n      .call(xAxis)\n\n    const yAxis = axisRight(yScale)\n    svg\n      .select('.y-axis')\n      .style('transform', 'translateX(600px)')\n      .transition()\n      .call(yAxis)\n\n    // residues\n    if (highlightedComponent && principalComponents[1] && data.length > 1) {\n      const n = highlightedComponent - 1\n      const componentGradientFunction = mathHelper.vectorToGradientFunction(\n        principalComponents[n].vector[0],\n        principalComponents[n].vector[1],\n        0,\n        0,\n      )\n      // calculate intersections between residues and the principal component\n      const intersections = data.map(value => {\n        const residueGradientFunction = mathHelper.vectorToGradientFunction(\n          principalComponents[n].vector[0],\n          principalComponents[n].vector[1],\n          value[0],\n          value[1],\n        )\n        return mathHelper.lineIntersection(\n          -1 / componentGradientFunction.gradient, // orthogonal from gradient\n          componentGradientFunction.c,\n          residueGradientFunction.gradient,\n          residueGradientFunction.c,\n        )\n      })\n\n      // draw residues\n      svg\n        .selectAll('.residue')\n        .data(data)\n        .join('line')\n        .attr('class', 'residue')\n        .attr('clip-path', 'url(#rect-clip)')\n        .attr('stroke-width', 1)\n        .attr('stroke', 'red')\n        .attr('x1', value => xScale(value[0]))\n        .attr('y1', value => yScale(value[1]))\n        .attr('x2', (_value, index) => xScale(intersections[index][0]))\n        .attr('y2', (_value, index) => yScale(intersections[index][1]))\n        .transition()\n        .duration(500)\n        .attr('opacity', 1)\n    } else {\n      svg\n        .selectAll('.residue')\n        .remove()\n    }\n\n    // draw data points\n    svg\n      .select('.data-points')\n      .selectAll('.dataPoint')\n      .data(data)\n      .join('circle')\n      .attr('class', 'dataPoint')\n      .attr('r', (_value, index) => index === highlightedIndex ? 5 : 3)\n      .style('fill', (_value, index) => index === highlightedIndex ? 'red' : 'black')\n      .transition()\n      .attr('cx', value => xScale(value[0]))\n      .attr('cy', value => yScale(value[1]))\n\n    // data points are deleted on click\n    svg\n      .select('.data-points')\n      .selectAll('.dataPoint')\n      .on('click', (_value, index) => {\n        event.stopPropagation() // prevents that the same click also adds a data point\n        const newData = data.slice()\n        newData.splice(index, 1)\n        setData(newData)\n      })\n\n    // add data point on click\n    svg.on('click', () => {\n      const mousePosition = mouse(svgRef.current)\n      const newDataPoint = [\n        xScale.invert(mousePosition[0]),\n        yScale.invert(mousePosition[1]),\n      ]\n      setData(data.concat([newDataPoint]))\n    })\n\n    // set highlighting on mouse over\n    svg\n      .select('.data-points')\n      .selectAll('.dataPoint')\n      .on('mouseenter', (_value, index) => {\n        setHighlightedIndex(index)\n      })\n      .on('mouseleave', () => {\n        setHighlightedIndex(null)\n      })\n\n    // draw principal component vectors\n    svg\n      .select('.principal-components')\n      .selectAll('.component')\n      .data(principalComponents)\n      .join('line')\n      .attr('class', 'component')\n      .attr('clip-path', 'url(#rect-clip)')\n      .attr('stroke-width', 2)\n      .attr('stroke', (_value, index) => componentColorer(index))\n      .transition()\n      .attr('x1', component => xScale(2 * domainMin * component.vector[0]))\n      .attr('y1', component => yScale(2 * domainMin * component.vector[1]))\n      .attr('x2', component => xScale(2 * domainMax * component.vector[0]))\n      .attr('y2', component => yScale(2 * domainMax * component.vector[1]))\n  }, [data, setData, principalComponents, highlightedComponent, setHighlightedIndex, highlightedIndex])\n\n  return (\n    <Card>\n      <Card.Header as=\"h3\">\n        Scatter Plot\n      </Card.Header>\n\n      <Card.Body>\n        <ResponsiveEmbed>\n          <svg ref={svgRef} width=\"600\" height=\"600\" viewBox=\"0 0 650 650\">\n            <clipPath id=\"rect-clip\">\n              <rect x=\"0\" y=\"0\" width=\"600\" height=\"600\" />\n            </clipPath>\n            <rect x=\"0\" y=\"0\" width=\"600\" height=\"600\" fill=\"#eee\" />\n            <g className=\"x-axis\" />\n            <g className=\"y-axis\" />\n            <g className=\"principal-components\" />\n            <g className=\"data-points\" />\n          </svg>\n        </ResponsiveEmbed>\n        <HelpButton\n          title=\"Scatter plot with component vectors\"\n          shorttext=\"Lorem ipsum.\"\n          longtext=\"Lorem ipsum dolor sit amet.\"\n        />\n      </Card.Body>\n    </Card>\n  )\n}\n\nexport default ScatterPlot\n","import React, { useEffect, useRef } from 'react'\nimport { Card, ResponsiveEmbed } from 'react-bootstrap'\nimport { axisBottom, axisRight, scaleBand, scaleLinear, select } from 'd3'\nimport componentColorer from '../utils/componentColorer'\nimport HelpButton from './HelpButton'\n\nconst svgWidth = 300\nconst svgHeight = 150\n\nconst EigenvaluesChart = ({ principalComponents }) => {\n  const svgRef = useRef()\n\n  const eigenvalues = principalComponents.map(vector => vector.eigenvalue)\n\n  useEffect(() => {\n    const svg = select(svgRef.current)\n\n    const maxY = Math.max(...eigenvalues)\n\n    // create scales\n    const xScale = scaleBand()\n      .domain(eigenvalues.map((value, index) => index))\n      .range([0, svgWidth])\n      .padding(0.5)\n\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([svgHeight, 0])\n\n    // draw Y axis and bar numbers\n    const xAxis = axisBottom(xScale).ticks(eigenvalues.length)\n    svg\n      .select('.x-axis')\n      .style('transform', 'translateY(150px)')\n      .call(xAxis)\n\n    const yAxis = axisRight(yScale)\n    svg\n      .select('.y-axis')\n      .style('transform', 'translateX(300px)')\n      .transition()\n      .call(yAxis)\n\n    // draw bars\n    svg\n      .selectAll('.bar')\n      .data(eigenvalues)\n      .join('rect')\n      .attr('class', 'bar')\n      .style('transform', 'scale(1, -1)')\n      .attr('x', (value, index) => xScale(index))\n      .attr('y', -svgHeight)\n      .attr('width', xScale.bandwidth())\n      .transition()\n      .attr('height', value => svgHeight - yScale(value))\n      .style('fill', (_value, index) => componentColorer(index))\n  }, [principalComponents, eigenvalues])\n\n  return (\n    <Card>\n      <Card.Header as=\"h3\">\n        Eigenvalues\n      </Card.Header>\n\n      <Card.Body>\n        <ResponsiveEmbed aspectRatio=\"16by9\">\n          <svg ref={svgRef} width={svgWidth} height={svgHeight} viewBox={`0 0 ${svgWidth + 30} ${svgHeight + 30}`}>\n            <rect x=\"0\" y=\"0\" width={svgWidth} height={svgHeight} fill=\"#eee\" />\n            <g className=\"x-axis\" />\n            <g className=\"y-axis\" />\n          </svg>\n        </ResponsiveEmbed>\n        <HelpButton\n          title=\"Eigenvalues\"\n          shorttext=\"The eigenvalues indicate the significance of the components relative to each other.\"\n          longtext=\"Lorem ipsum dolor sit amet.\"\n        />\n      </Card.Body>\n    </Card>\n  )\n}\n\nexport default EigenvaluesChart\n","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport {\n  Button,\n  Row,\n  Col, Card,\n} from 'react-bootstrap'\nimport PCA from 'pca-js'\nimport AdjustedData from './components/AdjustedData'\nimport DataTable from './components/DataTable'\nimport ScatterPlot from './components/ScatterPlot'\nimport EigenvaluesChart from './components/EigenvaluesChart'\n\nfunction App () {\n  const [data, setData] = useState([[0, 0]])\n  const [highlightedComponent, setHighlightedComponent] = useState(null)\n  const [highlightedIndex, setHighlightedIndex] = useState(null)\n  const [principalComponents, setPrincipalComponents] = useState([])\n\n  const generateRandomScatterPlot = () => {\n    let newData = []\n    for (let i = 0; i < 20; i++) {\n      newData = newData.concat([[\n        Math.random() * 200 - 100,\n        Math.random() * 200 - 100,\n      ]])\n    }\n    setData(newData)\n  }\n\n  const reset = () => {\n    setData([])\n    setHighlightedComponent(null)\n    setHighlightedIndex(null)\n  }\n\n  useEffect(() => {\n    if (data.length === 0) {\n      setPrincipalComponents([])\n      return\n    }\n    const vectors = PCA.getEigenVectors(data)\n    setPrincipalComponents(vectors)\n  }, [data])\n\n  return (\n    <div className='w-100 p-3'>\n      <div className=\"bg-dark text-light text-center\" style={{ padding: '1em', marginBottom: '1em' }}>\n        <h1>Webtools für die Lehre</h1>\n        <h2>Principal Component Analysis (PCA)</h2>\n      </div>\n      <Row>\n        <Col xs=\"2\" style={{ minWidth: '250px' }}>\n          <Card>\n            <Card.Header as=\"h3\">\n              Menu\n            </Card.Header>\n\n            <Card.Body>\n              <Button variant=\"secondary\" block onClick={generateRandomScatterPlot}>Generate random data</Button>\n              <Button variant=\"secondary\" block onClick={() => reset()}>Clear data</Button>\n              {data.length > 0 ?\n                <Button variant=\"secondary\" block onClick={() => setData(PCA.computeDeviationMatrix(data))}>Center Data</Button> :\n                <Button variant=\"secondary\" block disabled>Center Data</Button>\n              }\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col lg=\"5\">\n          <ScatterPlot\n            data={data}\n            setData={setData}\n            principalComponents={principalComponents}\n            highlightedComponent={highlightedComponent}\n            highlightedIndex={highlightedIndex}\n            setHighlightedIndex={setHighlightedIndex}\n          />\n        </Col>\n        <Col lg=\"3\">\n          <EigenvaluesChart principalComponents={principalComponents} />\n          <div id=\"singleComponents\">\n            <AdjustedData\n              data={data}\n              principalComponents={principalComponents}\n              setHighlightedComponent={setHighlightedComponent}\n              highlightedIndex={highlightedIndex}\n              setHighlightedIndex={setHighlightedIndex}\n              n=\"1\"\n            />\n            <AdjustedData\n              data={data}\n              principalComponents={principalComponents}\n              setHighlightedComponent={setHighlightedComponent}\n              highlightedIndex={highlightedIndex}\n              setHighlightedIndex={setHighlightedIndex}\n              n=\"2\"\n            />\n          </div>\n        </Col>\n        <Col lg=\"2\">\n          <DataTable\n            data={data}\n            setData={setData}\n            highlightedIndex={highlightedIndex}\n            setHighlightedIndex={setHighlightedIndex}\n          />\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}