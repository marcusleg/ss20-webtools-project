(this["webpackJsonpss20-webtools-project"]=this["webpackJsonpss20-webtools-project"]||[]).push([[0],{64:function(e,t,a){e.exports=a(75)},69:function(e,t,a){},70:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=(a(69),a(20)),i=(a(70),a(83)),s=a(51),u=a(88),m=a(87),d=a(15),h=a.n(d),p=a(10),f=a(81),E=a(6),g=function(e){switch(e){case 0:return"#ff9e1b";case 1:return"#c4d52a";case 2:return"#7c8034";default:return"#cccccc"}},x=a(86),b=a(80),v=a(84),y=function(e){var t=e.title,a=e.shorttext,l=e.longtext,c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=i[0],u=i[1],d=function(){return u(!1)};return r.a.createElement("div",{className:"float-right"},r.a.createElement(x.a,{placement:"left",overlay:r.a.createElement(b.a,{id:"tooltip-left"},r.a.createElement("p",null,a),r.a.createElement("strong",null,"Click to learn more."))},r.a.createElement("h5",null,r.a.createElement(m.a,{variant:"info",size:"sm",onClick:function(){return u(!0)}},"Help"))),r.a.createElement(v.a,{show:s,onHide:d},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,t)),r.a.createElement(v.a.Body,null,l),r.a.createElement(v.a.Footer,null,r.a.createElement(m.a,{variant:"secondary",onClick:d},"Close"))))},j=function(e){var t=e.data,a=e.principalComponents,l=e.setHighlightedComponent,c=e.highlightedIndex,o=e.setHighlightedIndex,i=e.n,s=Object(n.useRef)();Object(n.useEffect)((function(){var e,n=Object(E.g)(s.current);try{e=h.a.computeAdjustedData(t,a[Number(i)-1]).adjustedData[0]}catch(d){return void console.error("Handled exception in 3rd party library")}var r=Math.min.apply(Math,Object(p.a)(h.a.computeAdjustedData(t,a[0]).adjustedData[0]).concat(Object(p.a)(h.a.computeAdjustedData(t,a[1]).adjustedData[0]))),l=Math.max.apply(Math,Object(p.a)(h.a.computeAdjustedData(t,a[0]).adjustedData[0]).concat(Object(p.a)(h.a.computeAdjustedData(t,a[1]).adjustedData[0]))),u=Object(E.f)().domain([r,l]).range([0,315]).nice().clamp(!0),m=Object(E.a)(u);n.select(".x-axis").style("transform","translateY(".concat(62.5,"px)")).transition().call(m),n.selectAll(".dataPoint").data(e).join("circle").attr("class","dataPoint").attr("r",(function(e,t){return t===c?5:3})).attr("cy",62.5).style("fill",(function(e,t){return t===c?"red":"black"})).transition().attr("cx",(function(e){return u(e)})),n.selectAll(".dataPoint").on("mouseenter",(function(e,t){o(t)})).on("mouseleave",(function(){o(null)}))}),[t,a,i,c,o]);var m={textDecoration:"underline",textDecorationColor:g(Number(i-1)),textDecorationThickness:".15em"};return r.a.createElement("div",{onMouseEnter:function(){return l(i)},onMouseLeave:function(){return l(null)}},r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{as:"h3",style:m},"Component ",i),r.a.createElement(u.a.Body,null,r.a.createElement(f.a,{aspectRatio:"21by9"},r.a.createElement("svg",{ref:s,width:315,height:135,viewBox:"0 0 ".concat(315," ").concat(165)},r.a.createElement("rect",{x:"0",y:"0",width:315,height:135,fill:"#eee"}),r.a.createElement("g",{className:"x-axis"}))),r.a.createElement(y,{title:"Component ".concat(i),shorttext:"This is what the data looks like after reducing from two to one dimension using component #".concat(i),longtext:"Lorem ipsum dolor sit amet."}))))},O=a(82),C=a(85),k=function(e){var t=e.data,a=e.setData,n=e.highlightedIndex,l=e.setHighlightedIndex,c=function(e){return function(n){n.preventDefault(),a(t.filter((function(t,a){return e!==a})))}};return r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{as:"h3"},"Data"),r.a.createElement(u.a.Body,null,r.a.createElement(O.a,{bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"X"),r.a.createElement("th",null,"Y"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,t.sort().map((function(e,t){return r.a.createElement("tr",{key:t,style:t===n?{color:"red"}:{},onMouseEnter:function(){return l(t)},onMouseLeave:function(){return l(null)}},r.a.createElement("td",null,Number.parseFloat(e[0]).toFixed(2)),r.a.createElement("td",null,Number.parseFloat(e[1]).toFixed(2)),r.a.createElement("td",null,r.a.createElement(m.a,{variant:"link",size:"sm",onClick:c(t)},"[X]")))})))),r.a.createElement("h5",null,"Add data point"),r.a.createElement(C.a,{onSubmit:function(e){e.preventDefault();var n=Number(e.target.x.value),r=Number(e.target.y.value);a(t.concat([[n,r]])),e.target.x.value="",e.target.y.value=""}},r.a.createElement(C.a.Group,{as:i.a},r.a.createElement(C.a.Label,{column:!0,sm:"2"},"X"),r.a.createElement(s.a,{sm:"10"},r.a.createElement(C.a.Control,{type:"text",name:"x",placeholder:"0.00"})),r.a.createElement(C.a.Label,{column:!0,sm:"2"},"Y"),r.a.createElement(s.a,{sm:"10"},r.a.createElement(C.a.Control,{type:"text",name:"y",placeholder:"0.00"})),r.a.createElement(s.a,{sm:"12"},r.a.createElement(m.a,{variant:"secondary",block:!0,type:"submit"},"Add"))))))},w=function(e,t,a,n){var r=t/e;return{gradient:r,c:n-r*a}},D=function(e,t,a,n){return[(n-t)/(e-a),e*((n-t)/(e-a))+t]},H=function(e){var t=e.data,a=e.setData,l=e.principalComponents,c=e.highlightedComponent,o=e.highlightedIndex,i=e.setHighlightedIndex,s=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(E.g)(s.current),n=-5,r=5;t.length>0&&(n=Math.min.apply(Math,Object(p.a)(t.map((function(e){return e[0]}))).concat(Object(p.a)(t.map((function(e){return e[1]})))))-5,r=Math.max.apply(Math,Object(p.a)(t.map((function(e){return e[0]}))).concat(Object(p.a)(t.map((function(e){return e[1]})))))+5);var u=Object(E.f)().domain([n,r]).range([0,600]).nice(),m=Object(E.f)().domain([n,r]).range([0,600]).nice(),d=Object(E.a)(u);e.select(".x-axis").style("transform","translateY(600px)").transition().call(d);var h=Object(E.b)(m);if(e.select(".y-axis").style("transform","translateX(600px)").transition().call(h),c&&l[1]&&t.length>1){var f=c-1,x=w(l[f].vector[0],l[f].vector[1],0,0),b=t.map((function(e){var t=w(l[f].vector[0],l[f].vector[1],e[0],e[1]);return D(-1/x.gradient,x.c,t.gradient,t.c)}));e.selectAll(".residue").data(t).join("line").attr("class","residue").attr("clip-path","url(#rect-clip)").attr("stroke-width",1).attr("stroke","red").attr("x1",(function(e){return u(e[0])})).attr("y1",(function(e){return m(e[1])})).attr("x2",(function(e,t){return u(b[t][0])})).attr("y2",(function(e,t){return m(b[t][1])})).transition().duration(500).attr("opacity",1)}else e.selectAll(".residue").remove();e.select(".data-points").selectAll(".dataPoint").data(t).join("circle").attr("class","dataPoint").attr("r",(function(e,t){return t===o?5:3})).style("fill",(function(e,t){return t===o?"red":"black"})).transition().attr("cx",(function(e){return u(e[0])})).attr("cy",(function(e){return m(e[1])})),e.select(".data-points").selectAll(".dataPoint").on("click",(function(e,n){E.c.stopPropagation();var r=t.slice();r.splice(n,1),a(r)})),e.on("click",(function(){var e=Object(E.d)(s.current),n=[u.invert(e[0]),m.invert(e[1])];a(t.concat([n]))})),e.select(".data-points").selectAll(".dataPoint").on("mouseenter",(function(e,t){i(t)})).on("mouseleave",(function(){i(null)})),e.select(".principal-components").selectAll(".component").data(l).join("line").attr("class","component").attr("clip-path","url(#rect-clip)").attr("stroke-width",2).attr("stroke",(function(e,t){return g(t)})).transition().attr("x1",(function(e){return u(2*n*e.vector[0])})).attr("y1",(function(e){return m(2*n*e.vector[1])})).attr("x2",(function(e){return u(2*r*e.vector[0])})).attr("y2",(function(e){return m(2*r*e.vector[1])}))}),[t,a,l,c,i,o]),r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{as:"h3"},"Scatter Plot"),r.a.createElement(u.a.Body,null,r.a.createElement(f.a,null,r.a.createElement("svg",{ref:s,width:"600",height:"600",viewBox:"0 0 650 650"},r.a.createElement("clipPath",{id:"rect-clip"},r.a.createElement("rect",{x:"0",y:"0",width:"600",height:"600"})),r.a.createElement("rect",{x:"0",y:"0",width:"600",height:"600",fill:"#eee"}),r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"}),r.a.createElement("g",{className:"principal-components"}),r.a.createElement("g",{className:"data-points"}))),r.a.createElement(y,{title:"Scatter plot with component vectors",shorttext:"Lorem ipsum.",longtext:"Lorem ipsum dolor sit amet."})))},A=function(e){var t=e.principalComponents,a=Object(n.useRef)(),l=t.map((function(e){return e.eigenvalue}));return Object(n.useEffect)((function(){var e=Object(E.g)(a.current),t=Math.max.apply(Math,Object(p.a)(l)),n=Object(E.e)().domain(l.map((function(e,t){return t}))).range([0,300]).padding(.5),r=Object(E.f)().domain([0,t]).range([150,0]),c=Object(E.a)(n).ticks(l.length);e.select(".x-axis").style("transform","translateY(150px)").call(c);var o=Object(E.b)(r);e.select(".y-axis").style("transform","translateX(300px)").transition().call(o),e.selectAll(".bar").data(l).join("rect").attr("class","bar").style("transform","scale(1, -1)").attr("x",(function(e,t){return n(t)})).attr("y",-150).attr("width",n.bandwidth()).transition().attr("height",(function(e){return 150-r(e)})).style("fill",(function(e,t){return g(t)}))}),[t,l]),r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{as:"h3"},"Eigenvalues"),r.a.createElement(u.a.Body,null,r.a.createElement(f.a,{aspectRatio:"16by9"},r.a.createElement("svg",{ref:a,width:300,height:150,viewBox:"0 0 ".concat(330," ").concat(180)},r.a.createElement("rect",{x:"0",y:"0",width:300,height:150,fill:"#eee"}),r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"}))),r.a.createElement(y,{title:"Eigenvalues",shorttext:"The eigenvalues indicate the significance of the components relative to each other.",longtext:"Lorem ipsum dolor sit amet."})))};var M=function(){var e=Object(n.useState)([[0,0]]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),d=Object(o.a)(c,2),p=d[0],f=d[1],E=Object(n.useState)(null),g=Object(o.a)(E,2),x=g[0],b=g[1],v=Object(n.useState)([]),y=Object(o.a)(v,2),O=y[0],C=y[1];return Object(n.useEffect)((function(){if(0!==a.length){var e=h.a.getEigenVectors(a);C(e)}else C([])}),[a]),r.a.createElement("div",{className:"w-100 p-3"},r.a.createElement("div",{className:"bg-dark text-light text-center",style:{padding:"1em",marginBottom:"1em"}},r.a.createElement("h1",null,"Webtools f\xfcr die Lehre"),r.a.createElement("h2",null,"Principal Component Analysis (PCA)")),r.a.createElement(i.a,null,r.a.createElement(s.a,{xs:"2",style:{minWidth:"300px"}},r.a.createElement(u.a,null,r.a.createElement(u.a.Header,{as:"h3"},"Menu"),r.a.createElement(u.a.Body,null,r.a.createElement(m.a,{variant:"secondary",block:!0,onClick:function(){for(var e=[],t=0;t<20;t++)e=e.concat([[200*Math.random()-100,200*Math.random()-100]]);l(e)}},"Generate random data"),r.a.createElement(m.a,{variant:"secondary",block:!0,onClick:function(){return l([]),f(null),void b(null)}},"Clear data"),a.length>0?r.a.createElement(m.a,{variant:"secondary",block:!0,onClick:function(){return l(h.a.computeDeviationMatrix(a))}},"Center Data"):r.a.createElement(m.a,{variant:"secondary",block:!0,disabled:!0},"Center Data")))),r.a.createElement(s.a,{lg:"5"},r.a.createElement(H,{data:a,setData:l,principalComponents:O,highlightedComponent:p,highlightedIndex:x,setHighlightedIndex:b})),r.a.createElement(s.a,{lg:"3"},r.a.createElement(A,{principalComponents:O}),r.a.createElement("div",{id:"singleComponents"},r.a.createElement(j,{data:a,principalComponents:O,setHighlightedComponent:f,highlightedIndex:x,setHighlightedIndex:b,n:"1"}),r.a.createElement(j,{data:a,principalComponents:O,setHighlightedComponent:f,highlightedIndex:x,setHighlightedIndex:b,n:"2"}))),r.a.createElement(s.a,{lg:"2"},r.a.createElement(k,{data:a,setData:l,highlightedIndex:x,setHighlightedIndex:b}))))};c.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.6a79accd.chunk.js.map